{"is_source_file": true, "format": "TypeScript", "description": "This file defines a service class ApiNotesService for interacting with a notes REST API. It includes functions to get the base URL, fetch JSON data, and methods for listing, creating, updating, and removing notes. Additionally, it contains a static method to check API reachability.", "external_files": ["./types"], "external_methods": ["fetch", "fetchJson"], "published": ["ApiNotesService"], "classes": [{"name": "ApiNotesService", "description": "A class implementing NotesService to communicate with a notes backend API. Provides methods for CRUD operations and a static method to verify API health."}], "methods": [{"name": "function getApiBase(): string | null { getApiBase", "description": "Determines the base URL for the API from environment variables.", "scope": "", "scopeKind": ""}, {"name": "async function fetchJson<T>(input: RequestInfo, init?: RequestInit): Promise<T> { fetchJson", "description": "Performs a fetch request and parses the response as JSON, handling errors appropriately.", "scope": "", "scopeKind": ""}, {"name": "constructor(baseUrl: string) { constructor", "description": "Initializes the service with the provided base URL, ensuring no trailing slashes.", "scope": "ApiNotesService", "scopeKind": "class"}, {"name": "async list(): Promise<Note[]> { list", "description": "Fetches the list of notes from the API.", "scope": "ApiNotesService", "scopeKind": "class"}, {"name": "async create(note: Omit<Note, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<Note> { create", "description": "Creates a new note via a POST request.", "scope": "ApiNotesService", "scopeKind": "class"}, {"name": "async update(id: string, patch: Partial<Omit<Note, \"id\" | \"createdAt\">>): Promise<Note> { update", "description": "Updates an existing note identified by its ID using PUT.", "scope": "ApiNotesService", "scopeKind": "class"}, {"name": "async remove(id: string): Promise<void> { remove", "description": "Deletes a note by ID.", "scope": "ApiNotesService", "scopeKind": "class"}, {"name": "static async createIfReachable(): Promise<ApiNotesService | null> { createIfReachable", "description": "Static method that checks if the API is reachable and returns an instance of ApiNotesService if so.", "scope": "ApiNotesService", "scopeKind": "class"}], "calls": ["fetch", "fetchJson"], "search-terms": ["NotesService", "api.service.ts", "Notes API", "CRUD notes", "API reachability", "TypeScript API service"], "state": 2, "file_id": 20, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiNotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^export class ApiNotesService implements NotesService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^    const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "ApiNotesService.createIfReachable", "scopeKind": "method"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  const base =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  private base: string;$/", "language": "TypeScript", "kind": "property", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  constructor(baseUrl: string) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  async create(note: Omit<Note, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<Note> {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "createIfReachable", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  static async createIfReachable(): Promise<ApiNotesService | null> {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "fetchJson", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^async function fetchJson<T>(input: RequestInfo, init?: RequestInit): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^function getApiBase(): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  async list(): Promise<Note[]> {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  async remove(id: string): Promise<void> {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  const res = await fetch(input, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJson", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^    const text = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJson", "scopeKind": "function"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-46481-46527/notes_frontend/src/services/notes/api.service.ts", "pattern": "/^  async update(id: string, patch: Partial<Omit<Note, \"id\" | \"createdAt\">>): Promise<Note> {$/", "language": "TypeScript", "kind": "method", "scope": "ApiNotesService", "scopeKind": "class"}], "hash": "5959eef0b09baffa728237538342bf41", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/notes/api.service.ts", "fields": [{"name": "private base: string;", "scope": "ApiNotesService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"41": ""}]}